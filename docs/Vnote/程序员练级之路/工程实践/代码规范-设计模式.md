# 代码规范-设计模式
## Visitor
visitor模式相当于将原本需要在多态子类中完成的方法放到统一的Visitor类中
## SRP(Single Responsibility Program)

```javascript
const transform1 = (str) => {
    if(typeof str === "string"){
        return `${str.toUpperCase()}!`
    }
    return "Not a string";
}
```
有时候你觉得你的程序没有办法拆分成单一职责的,那有可能是语法工具还不够多.




```javascript
const { flow } = require("lodash/fp");
const toUpper = (str) => str.toUpperCase();
const toLower = (str) => str.toLowerCase();
const exclaim = (str) => `${str}!`;
const isString = (str) => (typeof str === "string" ? str : "Not a string");


const transform1 = flow(isString, toUpper, exclaim);
const transform2 = flow(isString, toLower, exclaim);


transform1("hello world"); // "HELLO WORLD !"
transform2("HELLO WORLD"); // "hello world !"
```