# 风销一体·从零做宠物商城推荐

## 1. 系统概述

### 1.1 业务背景

#### 推荐场景介绍

#### 风销一体的商业价值

宠物商城推荐与保险风控

### 1.2 技术架构

#### 整体系统架构

#### 整体时序调用

## 2. 特征工程

### 2.1 用户特征（User Features）

- 基础用户画像
- 行为特征提取

### 2.2 商品特征（Item Features）

- 商品基础属性
- 商品性能指标
- 商品关联分析

### 2.3 用户-商品交互特征（UI Features）

- 浏览行为分析
- 购买行为分析

实时特征通过监听消息流更新

## 3. 推荐算法打分

### 3.1 商品召回策略

#### 多路召回设计

实际召回商品依赖的是搜索迭代器能力，商品接口提供方不方便提供分页能力，因此没有办
法多路召回，只能迭代器每次取100个商品。大约总数在600个商品不到，平均耗时大约
500ms,因此总体的推荐性能很容易被拉高，有效的缓存策略十分必要。

### 3.2 打分模型

打分模型通过AI Studio 提供。

### 3.3 重排与过滤

- 业务规则过滤
- 多样性优化
- 实时调控策略

## 4. 系统工程化

### 4.1 缓存架构

- 预热机制
- 更新策略
- 容灾设计

### 4.2 分布式任务调度

- 任务分发机制
- 失败重试策略
- 监控告警

### 4.3 AB测试框架

- 实验设计
- 流量分配
- 效果评估

## 5. 数据治理

### 5.1 日志系统

#### 无盘化日志

#### 日志模型

- 日志清洗

### 5.2 监控体系

- 性能监控
- 效果监控: 监控GMV增长、监控 A/B 测试UV价值
- 异常监控: 监控错误增长率，监控非超时错误

## 6. 性能优化

### 6.1 缓存策略

- 疲劳度缓存12h
- 粗排缓存12h
- 海景房缓存考虑到用户每次打开页面的时候加载，缓存1h
- 商品召回考虑到商品状态缓存10min

### 6.2 缓存预热

## 8. 效果评估与优化

达尔文A/B测试

## 9. 未来展望

### 9.1 技术演进

### 9.2 业务发展

- 场景扩展
- 个性化升级
- 智能化提升
